<template> 
  <div>
    <section class="titlePage">
      <div class="container ww">
        <div>
          <h1>
            <div class="title">
              <svg id="Capa_1" enable-background="new 0 0 484.559 484.559" height="512" viewBox="0 0 484.559 484.559" width="512" xmlns="http://www.w3.org/2000/svg"><g><g id="XMLID_107_"><g><path d="m484.426 222.033c1.77 22.9-14.34 43.23-35.97 45.4-16.56 1.66-31.54-7.81-38.46-22.6l-19.63 1.73-14.82 7.15c-3.39 1.63-5.67 4.87-6.19 8.59-1.4 10.03-3.94 19.69-7.47 28.87-1.2 3.11-.99 6.58.64 9.48l5.28 9.44 14.68 9.85c7.74-2.96 16.75-2.25 24.16 2.72 12.56 8.43 15.57 25.78 6.23 37.99-8.04 10.52-22.99 13.41-34.37 6.65-7.25-4.3-11.63-11.44-12.7-19.07l-16.27-10.91-10.24-1.25c-3.52-.43-7.02.78-9.58 3.23-8.64 8.23-18.4 15.3-29.01 20.96-3.57 1.9-5.86 5.55-6.11 9.58l-1.3 20.74 6.44 25.55c10.96 3.06 20.02 11.75 23 23.57 4.5 17.87-6.6 36-24.7 40.03-16.33 3.64-33.08-5.88-38.27-21.79-4.04-12.42-.33-25.26 8.21-33.65l-6.47-25.7-9.99-16.06c-2.68-4.31-7.42-6.86-12.5-6.85-.03 0-.05 0-.08 0-8.75 0-17.31-.87-25.59-2.5-4.93-.98-10.02.58-13.48 4.23l-13.2 13.93-14.78 30.66c3.46 7.03 3.77 15.52.11 23.13-6.58 13.64-23.36 19.06-36.77 11.52-11.48-6.47-16.45-20.75-11.45-32.95 3.41-8.32 10.48-13.88 18.48-15.74l14.87-30.86 2.92-20.71c.53-3.82-.93-7.67-3.93-10.09-11.83-9.6-21.97-21.19-29.9-34.27-1.97-3.25-5.51-5.22-9.31-5.25l-20.68-.2-22.64 7.12c-1.59 14.08-11.23 26.59-25.61 31.11-19.32 6.08-39.9-4.54-46.17-23.74-6.27-19.19 4.32-40.18 23.49-46.52 13.42-4.44 27.52-.75 37.06 8.32l24.03-7.56 17.55-12.51c2.61-1.85 4-4.95 3.74-8.13-.29-3.53-.44-7.09-.44-10.69 0-19.56 4.3-38.13 11.98-54.83 1.12-2.45 1.09-5.27-.09-7.69l-5.2-10.63-14.11-10.65c-7.9 2.53-16.85 1.32-23.97-4.05-12.08-9.12-14.12-26.61-4.12-38.28 8.61-10.05 23.7-12.11 34.69-4.73 7 4.7 10.98 12.06 11.62 19.74l15.64 11.8 15.76 2.81c11.47-10.65 24.84-19.28 39.53-25.33l3.7-22.48-4.67-23.22c-13.82-3.56-25.04-14.15-28.06-28.27-4.26-19.95 9.45-39.38 30.63-43.39 21.17-4.01 41.79 8.9 46.05 28.85 3.19 14.93-3.68 29.56-16.22 37.66l4.41 21.9 10.83 17.28c.71 1.13 1.95 1.81 3.28 1.81h.02c24.8 0 48.02 6.9 67.85 18.88 1.09.65 2.43.74 3.58.2l16.96-7.86 19.8-21.42c-1.19-7.68 1-15.82 6.69-21.97 10.28-11.11 27.88-11.39 38.5-.28 9.31 9.75 9.67 25.3.83 35.48-5.72 6.59-13.93 9.63-21.95 9.03l-19.8 21.42-6.43 17.3c-.45 1.2-.25 2.54.5 3.58 7.81 10.72 14.04 22.66 18.34 35.48 1.19 3.52 3.99 6.26 7.57 7.27l16.1 4.51 20.92-1.85c5.13-14.79 17.94-25.98 33.67-27.56 21.63-2.17 40.6 14.64 42.36 37.54z" fill="#eb5569"/></g></g><g id="XMLID_8_"><g><circle cx="238.936" cy="243.983" fill="#f58a97" r="97.52"/></g></g><path d="m171.14 243.983c0-48.807 35.852-89.238 82.658-96.395-4.846-.741-9.809-1.125-14.862-1.125-53.86 0-97.52 43.66-97.52 97.52s43.66 97.52 97.52 97.52c5.053 0 10.016-.384 14.862-1.125-46.805-7.158-82.658-47.589-82.658-96.395z" fill="#f07281"/><g fill="#eb5569"><circle cx="74.853" cy="38.921" r="27.771"/><circle cx="67.262" cy="404.986" r="18.343"/><circle cx="404.051" cy="435.118" r="27.018"/><circle cx="209.002" cy="217.089" r="25.189"/><circle cx="229.222" cy="295.328" r="17.145"/><circle cx="283.058" cy="243.983" r="14.397"/></g></g></svg>
              COVID-19 Tracker
            </div>
          </h1>
          <span>Track the spread of the Coronavirus Covid-19 outbreak</span>
        </div>
        <a target="_blank" class="support" href="https://www.buymeacoffee.com/Bielievtsov">
          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">
            <path style="fill:#C49A6C;" d="M111.999,120h256c8.837,0,16-7.163,16-16s-7.163-16-16-16h-256c-8.837,0-16,7.163-16,16
              S103.162,120,111.999,120z"/>
            <path style="fill:#754C29;" d="M355.031,36.12c-1.781-7.125-8.184-12.123-15.528-12.12H140.495
              c-7.344-0.003-13.747,4.995-15.528,12.12L111.999,88h256L355.031,36.12z"/>
            <g>
              <path style="fill:#A97C50;" d="M159.999,8h32v16h-32V8z"/>
              <path style="fill:#A97C50;" d="M142.639,457.44c0.78,8.254,7.71,14.56,16,14.56h162.72c8.29,0,15.22-6.306,16-14.56l5.92-65.44
                h-206.56L142.639,457.44z"/>
              <path style="fill:#A97C50;" d="M119.279,200h241.44l7.28-80h-256L119.279,200z"/>
            </g>
            <path style="fill:#FFDA44;" d="M111.999,200l16,192h224l16-192H111.999z M239.999,256c22.091,0,40,17.909,40,40s-17.909,40-40,40
              c-22.091,0-40-17.909-40-40S217.908,256,239.999,256z"/>
            <circle style="fill:#FFAF46;" cx="239.999" cy="296" r="40"/>
            <g>
              <path style="fill:#231F20;" d="M391.999,104c-0.034-10.717-7.183-20.107-17.504-22.992l-11.704-46.832
                C360.118,23.492,350.517,15.998,339.503,16H199.999V8c0-4.418-3.582-8-8-8h-32c-4.418,0-8,3.582-8,8v8h-11.504
                c-11.014-0.002-20.615,7.492-23.288,18.176l-11.704,46.832c-12.695,3.508-20.142,16.644-16.634,29.339
                c2.142,7.752,8.048,13.902,15.706,16.357l5.968,65.6c-1.685,0.261-3.24,1.061-4.432,2.28c-1.513,1.647-2.267,3.852-2.08,6.08
                l16,192c0.345,4.145,3.809,7.334,7.968,7.336h1.408l5.272,58.208c1.143,12.37,11.537,21.824,23.96,21.792h162.72
                c12.452,0.051,22.875-9.43,24-21.832L350.591,400h1.408c4.171,0.014,7.654-3.179,8-7.336l16-192c0.187-2.228-0.567-4.433-2.08-6.08
                c-1.192-1.219-2.747-2.019-4.432-2.28l5.968-65.6C385.296,123.506,391.97,114.348,391.999,104z M132.727,38.064
                c0.889-3.566,4.093-6.067,7.768-6.064h199.008c3.675-0.003,6.879,2.498,7.768,6.064L357.759,80h-235.52L132.727,38.064z
                M111.999,96h256c4.418,0,8,3.582,8,8s-3.582,8-8,8h-256c-4.418,0-8-3.582-8-8S107.581,96,111.999,96z M353.415,192H126.583
                l-5.784-64h238.48L353.415,192z M329.415,456.672c-0.379,4.139-3.843,7.312-8,7.328H158.639c-4.143-0.006-7.605-3.156-8-7.28
                l-5.16-56.72h189.04L329.415,456.672z M344.639,384h-209.28l-14.664-176h238.608L344.639,384z"/>
              <path style="fill:#231F20;" d="M239.999,344c26.51,0,48-21.49,48-48s-21.49-48-48-48s-48,21.49-48,48
                C192.025,322.499,213.5,343.974,239.999,344z M239.999,264c17.673,0,32,14.327,32,32s-14.327,32-32,32c-17.673,0-32-14.327-32-32
                S222.326,264,239.999,264z"/>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
          </svg>
          <div class="text">
            <span>Buy me a coffee</span>
            <span class="phcopy">Support this site</span>
          </div>
        </a>
      </div>
    </section>
    <section class="totalInfo">
      <div class="containerNoB">
        <totalInfo />
      </div>
    </section>
    <section class="countryAffected">
      <countryTable />
    </section>
    <section class="latestNews">
      <div class="container">
        <h2><svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"><g><g><path d="m512 207v273.005c0 17.67-14.324 31.995-31.995 31.995h-.011c-17.67 0-31.994-14.324-31.994-31.995l-10-288.005h59c8.284 0 15 6.716 15 15z" fill="#bec2d0"/></g><g><path d="m479.995 512h-448c-17.67 0-31.995-14.324-31.995-31.995v-465.005c0-8.284 6.716-15 15-15h418c8.284 0 15 6.716 15 15v465.005c0 17.665 14.33 31.995 31.995 31.995z" fill="#f3f5fc"/></g><path d="m433 0h-209v512h255.995c-17.665 0-31.995-14.33-31.995-31.995v-465.005c0-8.284-6.716-15-15-15z" fill="#dce0ea"/><g><path d="m384 207h-320c-8.284 0-15-6.716-15-15v-128c0-8.284 6.716-15 15-15h320c8.284 0 15 6.716 15 15v128c0 8.284-6.716 15-15 15z" fill="#76cefb"/></g><g><path d="m384 399h-128c-8.284 0-15-6.716-15-15v-128c0-8.284 6.716-15 15-15h128c8.284 0 15 6.716 15 15v128c0 8.284-6.716 15-15 15z" fill="#eeba44"/></g><g><path d="m192 271h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" fill="#464b52"/></g><g><path d="m192 335h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" fill="#464b52"/></g><g><path d="m192 399h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" fill="#464b52"/></g><g><path d="m383.356 463h-319.356c-8.284 0-15-6.716-15-15s6.716-15 15-15h319.356c8.284 0 15 6.716 15 15s-6.715 15-15 15z" fill="#464b52"/></g><path d="m383.356 433h-159.356v30h159.356c8.284 0 15-6.716 15-15s-6.715-15-15-15z" fill="#292b2f"/><path d="m384 49h-160v158h160c8.284 0 15-6.716 15-15v-128c0-8.284-6.716-15-15-15z" fill="#6897f4"/></g></svg>News</h2>
        <ul>
          <li v-for="index in (limit < info.length ? limit: info.length)" :key="index">
            <a target="_blank" :href="info[index - 1].link">
              <div class="articles">
                <h4>{{ info[index - 1].title }}</h4>
                <p>{{ info[index - 1].summary }}</p>
                <div class="detail">
                  <span class="date">{{ info[index - 1].published_date }}</span>
                  <span class="author" v-if="info[index - 1].author">Author: {{ info[index - 1].author }}</span>
                  <span class="site">Web site: {{ info[index - 1].clean_url }}</span>
                </div>
              </div>
            </a>
          </li>
        </ul>
        <nuxt-link class="more" to="/news">
          Learn more
        </nuxt-link>
      </div>
    </section>
    <footer class="footer">
      <div class="container">
        <a target="_blank" href="https://github.com/VladBelevtsov">
          üë®‚Äçüíª Vlad Bielievtsov
        </a>
      </div>
    </footer>
  </div>
</template>

<script>
import Navbar from '@/components/Navbar'
import totalInfo from '@/components/totalInfo'
import countryTable from '@/components/countryTable'

import axios from 'axios'


export default {
  components: {
    Navbar,
    totalInfo,
    countryTable,
  },
  data(){
    return {
      limit: 5,
      info: []
    } 
  },
  mounted() {
    var self = this;
    axios.get('https://covid-19-news.p.rapidapi.com/v1/covid?lang=en&media=True&q=covid', {
      "method": "GET",
      "headers": {
        "x-rapidapi-host": "covid-19-news.p.rapidapi.com",
        "x-rapidapi-key": "fc64447d62msh5f3fd114b81090dp13fc45jsn9b5f2fe5b1c3"
      }})
    .then( function(resp) {
      self.info = resp.data.articles;
      //console.log('Data: ', resp.data.articles);


    })
    .catch( function(error) {
      console.log('Error: ', error);
    })
  }

}
</script>

<style>
@font-face {font-family: "Calibre Web";
  src: url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.eot"); /* IE9*/
  src: url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.eot?#iefix") format("embedded-opentype"), /* IE6-IE8 */
  url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.woff2") format("woff2"), /* chrome„ÄÅfirefox */
  url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.woff") format("woff"), /* chrome„ÄÅfirefox */
  url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.ttf") format("truetype"), /* chrome„ÄÅfirefox„ÄÅopera„ÄÅSafari, Android, iOS 4.2+*/
  url("~@/assets/fonts/4a0c1d6164df2c0aa88da1437cd38ef1.svg#Calibre Web") format("svg"); /* iOS 4.1- */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Calibre Web', sans-serif;
}

/* =========================== */
.ww {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.container {
  padding: 0 15px;
  max-width: 1240px;
  margin: 0 auto;
}

.titlePage {
  margin-top: 200px;
}

.titlePage h1 .title {
  display: flex;
  align-items: center;
}

.titlePage h1 {
  font-weight: 600;
  font-size: 34px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.titlePage svg {
  width: 40px;
  height: auto;
  margin-right: 10px;
}

.titlePage span {
  font-size: 20px;
  color: rgba(0, 0, 0, 0.6);
}

.support span {
  opacity: .5;
  font-size: 13px;
  font-weight: 400;
}

.support .phcopy {
  opacity: 1;
  font-size: 16px;
  font-weight: 600;
  padding-top: 2px;
  color: #000;
}

.support svg {
  width: 30px;
  height: auto;
  margin-right: 10px;
}

.support {
  display: flex;
  align-items: center;
  text-decoration: none;

  border: 1px solid rgba(0,0,0,.2);
  border-radius: 6px;
  padding: 10px 15px;
  transition: .2s ease;
}

.support:hover {
   background: #73D0F5;
}

.support .text {
  display: flex;
  flex-direction: column;
}

/* ============================== */

.containerNoB {
  max-width: 1240px;
  margin: 0 auto;
}

.latestNews svg {
  width: 40px;
  height: auto;
  margin-right: 10px;
}

.latestNews h2 {
  font-size: 34px;
  display: flex;
  align-items: center;
  margin-bottom: 50px;
}

.latestNews li {
  list-style: none;
  margin-bottom: 2rem;
}

.latestNews a {
  text-decoration: none;
}

.articles {
  padding: 1.25rem;
  background: #fff;
  box-shadow: 0 0 25px 0 rgba(73,80,87,.10);
  border-radius: 0.5rem;
  transition: .2s ease;
}

.articles:hover {
  transform: scale(1.02);
}

.articles h4 {
  font-size: 20px;
  color: black;
  font-weight: 500;
  padding-bottom: 10px;
}

.articles p {
  color: #666;
  font-size: 16px;
  padding-bottom: 10px;
}

.articles span {
  color: #000;
  margin-right: 10px;
}

.latestNews .more {
  border: 1px solid rgba(0,0,0,.2);
  border-radius: 6px;
  padding: 10px 15px;
  color: #000;
  font-size: 16px;
  transition: .2s ease;
}

.latestNews .more:hover {
  background: #73D0F5;
}

.footer {
  text-align: center;
  padding-top: 50px;
}

.footer a {
  font-size: 20px;
  text-decoration: none;
  color: #000;
  transition: .2s ease;
}

.footer a:hover {
  color: #555;
}

@media screen and (max-width: 650px) {
  .ww {
    flex-direction: column;
    align-items: start;
  }

  .support {
    margin-top: 20px;
  }
}

</style>
